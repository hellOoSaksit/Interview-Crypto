# ЁЯкЩ Crypto Exchange System

## ЁЯЧВя╕П About Project

### ЁЯУМ р╣Вр╕Ир╕Чр╕вр╣Мр╕Вр╣Йр╕н 1  
р╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕гр╕░р╕Ър╕Ър╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е (ER Diagram) р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ Cryptocurrencies р╣Ар╕Кр╣Ир╕Щ Bitcoin  
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Лр╕╖р╣Йр╕нр╣Ар╕лр╕гр╕╡р╕вр╕Нр╣Вр╕Фр╕вр╣Гр╕Кр╣Йр╣Ар╕Зр╕┤р╕Щ Fiat (THB, USD)  
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Вр╕нр╕Щр╣Ар╕лр╕гр╕╡р╕вр╕Нр╣Гр╕лр╣Йр╕Бр╕▒р╕Щр╕ар╕▓р╕вр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ р╕лр╕гр╕╖р╕нр╕кр╣Ир╕Зр╕нр╕нр╕Бр╣Др╕Ыр╕ар╕▓р╕вр╕Щр╕нр╕Б  
- р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З: [Binance P2P](https://c2c.binance.com/th/trade/buy/BTC)

**р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕Ър╕Хр╣Йр╕нр╕Зр╕бр╕╡**
- р╕Хр╕▒р╣Йр╕Зр╕Др╕│р╕кр╕▒р╣Ир╕З тАЬр╕Лр╕╖р╣Йр╕н-р╕Вр╕▓р╕втАЭ р╣Ар╕лр╕гр╕╡р╕вр╕Н (BTC, ETH, XRP, DOGE)  
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ/р╕Бр╕▓р╕гр╕Лр╕╖р╣Йр╕нр╕Вр╕▓р╕в/р╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ  
- р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Нр╕Кр╕╡р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ  

### ЁЯУМ р╣Вр╕Ир╕Чр╕вр╣Мр╕Вр╣Йр╕н 2  
р╕Щр╕│ ER Diagram р╕Ир╕▓р╕Бр╕Вр╣Йр╕н 1 р╕бр╕▓р╕Юр╕▒р╕Тр╕Щр╕▓р╣Ар╕Ыр╣Зр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╣Вр╕Фр╕вр╣Гр╕Кр╣Й **Node.js р╕лр╕гр╕╖р╕н PHP**

**р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕│**
- р╕кр╕гр╣Йр╕▓р╕З Model р╣Бр╕ер╕░р╣Ар╕Вр╕╡р╕вр╕Щ Method р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕зр╕▓р╕бр╕кр╕▒р╕бр╕Юр╕▒р╕Щр╕Шр╣М (р╕Хр╕▓р╕бр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З [Laravel Relationship](https://laravel.com/docs/8.x/eloquent-relationships#one-to-many))  
- р╕кр╕гр╣Йр╕▓р╕З Controller р╣Бр╕ер╕░ Routing р╣Гр╕Щр╕кр╣Ир╕зр╕Щр╕лр╕ер╕▒р╕Б р╣Ж  
- р╕кр╕гр╣Йр╕▓р╕З Seed File р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Хр╕гр╕╡р╕вр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ  

## тЪЩя╕П .ENV р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н Database

```
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/crypto"
```

> ЁЯТб **Username**: `postgres`  
> ЁЯТб **Password**: `postgres`  
> ЁЯТб **Database**: `crypto`

## ЁЯзй Stack & Libraries р╕Чр╕╡р╣Ир╣Гр╕Кр╣Й

- ЁЯза **NestJS** тАУ Backend Framework  
- ЁЯУК **Prisma** тАУ ORM р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е  
- ЁЯФв **decimal.js** тАУ р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕Др╣Ир╕▓р╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕Чр╕╡р╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│

## ЁЯУР ER Diagram

> ЁЯФЧ ER Diagram: [dbdiagram.io](https://dbdiagram.io/d/Interview-67ff891e1ca52373f539090b)

![ER](https://github.com/user-attachments/assets/9868114d-8f67-4933-981b-3a5a040388e3)

## ЁЯТб р╣Бр╕Щр╕зр╕Др╕┤р╕Фр╕Бр╕▓р╕гр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕гр╕░р╕Ър╕Ъ

### 1. р╕гр╕░р╕Ър╕Ъ Login
- р╣Гр╕Кр╣Й JWT р╣Бр╕ер╕░ Cookie р╣Гр╕Щр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г Session
- р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Фр╣Йр╕зр╕в Token р╕Чр╕╡р╣Ир╕Эр╕▒р╕Зр╣Гр╕Щ Cookie

### 2. р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Др╣Ир╕▓р╣Ар╕Зр╕┤р╕Щ
- р╕Др╣Ир╕▓р╣Ар╕Зр╕┤р╕Щр╕лр╕ер╕▒р╕Бр╣Гр╕Щр╕гр╕░р╕Ър╕Ър╣Гр╕Кр╣Й **USD**  
- р╣Бр╕Ыр╕ер╕Зр╕Ир╕▓р╕Б THB р╣Ар╕Ыр╣Зр╕Щ USD р╕Бр╣Ир╕нр╕Щр╕Чр╕│р╕Бр╕▓р╕гр╕Лр╕╖р╣Йр╕нр╕Вр╕▓р╕в  
- р╣Гр╕Кр╣Й USD р╣Гр╕Щр╕Бр╕▓р╕гр╕Др╕┤р╕Фр╕гр╕▓р╕Др╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

### 3. р╕гр╕░р╕Ър╕Ър╕Лр╕╖р╣Йр╕нр╕Вр╕▓р╕вр╣Бр╕ер╕░р╣Вр╕нр╕Щр╣Ар╕лр╕гр╕╡р╕вр╕Н
- р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Хр╕▒р╣Йр╕Зр╕Вр╕▓р╕вр╣Ар╕лр╕гр╕╡р╕вр╕Нр╣Др╕Фр╣Й р╕Юр╕гр╣Йр╕нр╕бр╕гр╕░р╕Ър╕╕р╕Ир╕│р╕Щр╕зр╕Щ, р╕гр╕▓р╕Др╕▓ р╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╕нр╕Зр╣Ар╕лр╕гр╕╡р╕вр╕Н  
- р╣Гр╕Кр╣Й OrderID р╣Гр╕Щр╕Бр╕▓р╕гр╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З (р╣Др╕бр╣Ир╣Гр╕Кр╣Й WalletID р╣Ар╕Щр╕╖р╣Ир╕нр╕Зр╕Ир╕▓р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▓р╕Ир╕Цр╕╣р╕Бр╕ер╕Ъ)  
- р╕гр╕░р╕Ър╕Ър╣Вр╕нр╕Щр╣Ар╕лр╕гр╕╡р╕вр╕Нр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Log

## ЁЯФМ API р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
```
Register            [POST]         : http://localhost:5000/auth/register

Login               [POST]         : http://localhost:5000/auth/login

GetProfile          [GET]          : http://localhost:5000/member/profile

TopUp               [POST]         : http://localhost:5000/member/topup

Exchange            [POST]         : http://localhost:5000/member/wallet/exchange

TradeSeller         [POST]         : http://localhost:5000/member/trade/sell

TradeBuying         [POST]         : http://localhost:5000/member/trade/buy

Transaction         [POST]         : http://localhost:5000/member/wallet/transaction

GetOrderAll         [GET]          : http://localhost:5000/member/order

GetWalletProfile    [GET]          : http://localhost:5000/member/wallet/profile
```


## ЁЯФМ API р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З (Test р╕Ьр╣Ир╕▓р╕Щ Postman)

### тЬЕ Register

**Endpoint**
```
POST http://localhost:5000/auth/register
```

**Body**
```
{
    "email": "Buying_Start@gmail.com",
    "password": "0000",
    "username": "Buying"
}
```

**Response**
![register-success](https://github.com/user-attachments/assets/130ad1f9-bad0-4623-8092-2f535e949d61)

**р╕лр╕▓р╕Бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Лр╣Йр╕│**
![register-duplicate](https://github.com/user-attachments/assets/6b9e4251-be73-467b-a23f-77784d286831)

### ЁЯФР Login

**Endpoint**
```
POST http://localhost:5000/auth/login
```

**Body**
```
{
    "email": "Buying_Start@gmail.com",
    "password": "0000"
}
```

**Response**

![login-success](https://github.com/user-attachments/assets/fe0c2c6b-70e2-43ac-a7e7-94752cae9307)

**р╕лр╕▓р╕Бр╕гр╕лр╕▒р╕кр╕Ьр╕┤р╕Ф**

![login-fail](https://github.com/user-attachments/assets/67aa4619-473f-4a58-a68f-b4e9d91865db)

**Cookie р╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ъ**

![cookie](https://github.com/user-attachments/assets/cf5f44af-193f-4f89-944e-e413ee415ecb)

**JWT р╕ар╕▓р╕вр╣Гр╕Щ Cookie**

![jwt-decode](https://github.com/user-attachments/assets/99244009-74f8-4295-a44e-5a2cd4f87d3e)


### ЁЯФР Profile

**Endpoint**
```
GET  http://localhost:5000/member/profile
```

**Response**

![image](https://github.com/user-attachments/assets/c691b773-e610-46a8-9845-a0bd3b030400)


### ЁЯТ│ TopUp

**Endpoint**
```
POST   http://localhost:5000/member/topup
```

**Body**
```
{
    "currency_code" : "THB", 
    "amount" : 1000000
}


```
> ЁЯТб **currency_code** : `р╣Ар╕ер╕╖р╕нр╕Бр╕зр╣Ир╕▓р╕Ир╕░р╣Ар╕Хр╕┤р╕б THB р╕лр╕гр╕╖р╕н USD р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ`

> ЁЯТб **amount**: `р╕Ир╕│р╕Щр╕зр╕Щр╕Бр╕▓р╕гр╣Ар╕Хр╕┤р╕б`


**Response**

![image](https://github.com/user-attachments/assets/7bd112a0-2851-4dbb-af2c-aa3e85dcf5ab)


### ЁЯТ│ Exchange

**Endpoint**
```
POST    http://localhost:5000/member/wallet/exchange
```

**Body**
```
{
    "from_currency" : "THB",
    "to_currency" : "USD",
    "amount" : 10000000
}
```
> ЁЯТб **from_currency** : `р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Др╕Фр╣Й`

> ЁЯТб **to_currency**: `р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Др╕Фр╣Й`

> ЁЯТб **amount**: `р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╣Ар╕Хр╕┤р╕б`


**Response**

р╕лр╕▓р╕Бр╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ THB р╕бр╕╡р╕Юр╕нр╕Чр╕╡р╣Ир╕Ир╕░р╣Бр╕ер╕Б

![image](https://github.com/user-attachments/assets/e630122e-ac73-428b-ae57-1ea46b1bb383)

р╕лр╕▓р╕Бр╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ THB р╣Др╕бр╣Ир╕Юр╕н

![image](https://github.com/user-attachments/assets/139f77fa-6a66-4c55-997c-008787cfb23b)


### тЪЦя╕П TradeSeller

**Endpoint**
```
POST    http://localhost:5000/member/trade/sell
```

**Body**
```
{
    "order_type" : "SELL",
    "from_currency" : "DOGE",
    "amount" : 100,
    "price" : 10000
}
```
> ЁЯТб **order_type** : `р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Др╕Фр╣Й`

> ЁЯТб **from_currency**: `р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Чр╕╡р╣Ир╕Ир╕░р╕Вр╕▓р╕в  р╣Ар╕Кр╣Ир╕Щ XRP , ETH , BTC , DOGE р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Вр╕▓р╕в USD р╕лр╕гр╕╖р╕н THB` 

> ЁЯТб **amount**: `р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╕нр╕вр╕▓р╕Бр╕Вр╕▓р╕в (р╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Чр╕╡р╣Ир╕нр╕вр╕▓р╕Бр╕Вр╕▓р╕в)`

> ЁЯТб **price**: `р╕гр╕▓р╕Др╕▓р╕Вр╕▓р╕вр╕Хр╣Ир╕нр╣Ар╕лр╕гр╕╡р╕вр╕Н`


**Response**

![image](https://github.com/user-attachments/assets/43faf69d-d6ba-420e-a259-3a51094b84a6)

### тЪЦя╕П TradeBuying

**Endpoint**
```
POST    http://localhost:5000/member/trade/buy
```

**Body**
```
{
    "seller_wallet_id" :"00000000-0000-0000-0000-000000000000",
    "currency" : "BTC",
    "amount" : 1
}
```
> ЁЯТб **seller_wallet_id** : `Wallet р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Лр╕╖р╣Йр╕н (р╕Др╕Щр╕Вр╕▓р╕в)`

> ЁЯТб **currency**: `р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Ар╕лр╕гр╕╡р╕вр╕Н  р╣Ар╕Кр╣Ир╕Щ XRP , ETH , BTC , DOGE ` 

> ЁЯТб **amount**: `р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╕Лр╕╖р╣Йр╕н`



**Response**
р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Лр╕╖р╣Йр╕н р╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Хр╕▒р╕зр╣Ар╕нр╕Зр╣Др╕Фр╣Й

![image](https://github.com/user-attachments/assets/deb8ed69-28fb-458c-8339-22ee22a96bb3)

р╕Ьр╕╣р╣Йр╕Лр╕╖р╣Йр╕нр╕бр╕╡р╣Ар╕Зр╕┤р╕Щ USD р╕бр╕▓р╕Бр╕Юр╕нр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Лр╕╖р╣Йр╕нр╣Др╕Фр╣Й

![image](https://github.com/user-attachments/assets/352e8a73-551d-4a30-8c32-567de9acb9df)

р╕Ьр╕╣р╣Йр╕Лр╕╖р╣Йр╕нр╕бр╕╡р╣Ар╕Зр╕┤р╕Щр╣Др╕бр╣Ир╕бр╕▓р╕Бр╕Юр╕н

![image](https://github.com/user-attachments/assets/13d47793-26ce-4c7e-9600-cb22dc2656a0)

### тЪЦя╕П Transaction

**Endpoint**
```
POST    http://localhost:5000/member/wallet/transaction
```

**Body**
```
{
    "to_wallet_id" : "00000000-0000-0000-0000-000000000000",
    "currency_code" : "BTC",
    "amount" : 1
}
```
> ЁЯТб **seller_wallet_id** : `Wallet р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ`

> ЁЯТб **currency**: `р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Ар╕лр╕гр╕╡р╕вр╕Н  р╣Ар╕Кр╣Ир╕Щ XRP , ETH , BTC , DOGE ` 

> ЁЯТб **amount**: `р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕лр╕гр╕╡р╕вр╕Нр╕Чр╕╡р╣Ир╣Вр╕нр╕Щ`



**Response**

р╕лр╕▓р╕Бр╕Ьр╕╣р╣Йр╣Вр╕нр╕Щр╕бр╕╡р╣Ар╕лр╕гр╕╡р╕вр╕Нр╕бр╕▓р╕Бр╕Юр╕н

![image](https://github.com/user-attachments/assets/32fff6dc-01a0-4163-b0ca-53ae3a8b511b)

р╕лр╕▓р╕Бр╕Ьр╕╣р╣Йр╣Вр╕нр╕Щр╕бр╕╡р╣Ар╕лр╕гр╕╡р╕вр╕Нр╣Др╕бр╣Ир╕бр╕▓р╕Бр╕Юр╕н

![image](https://github.com/user-attachments/assets/d9cb5ebf-3f67-46ee-9162-269dc237b35a)



---

> р╕лр╕▓р╕Бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З Prisma Model, Controller р╕лр╕гр╕╖р╕н Seed р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕Ир╣Йр╕Зр╣Др╕Фр╣Йр╕Др╕гр╕▒р╕Ъ ЁЯСитАНЁЯТ╗
